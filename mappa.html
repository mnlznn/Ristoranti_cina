<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <title>Ristoranti Cina - Mappa</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #0e0f12; 
            color: white; 
            font-family: Arial, sans-serif;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ff6b6b, #ffd166, #8ab4ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #c9d1d9;
            font-size: 1.1rem;
        }
        
        .mode-selector {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
        }
        
        .mode-btn {
            padding: 12px 24px;
            background: #1a1d22;
            border: 2px solid #2a2f36;
            border-radius: 10px;
            color: white;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .mode-btn.active {
            background: #8ab4ff;
            border-color: #8ab4ff;
            color: #0e0f12;
        }
        
        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(138, 180, 255, 0.2);
        }
        
        /* MAPPA STYLES */
        .map-container {
            position: relative;
            width: 100%;
            height: 600px;
            background: linear-gradient(135deg, #1a1d22, #0e0f12);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid #2a2f36;
            margin-bottom: 30px;
        }
        
        .china-map {
            position: relative;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"><path fill="%232a2f36" d="M200,100 L300,150 L400,120 L500,180 L600,140 L700,200 L650,300 L550,350 L450,320 L350,380 L250,340 L150,400 L100,300 L150,200 Z"/></svg>');
            background-size: 80%;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        /* CITT√Ä PUNTI */
        .city-dot {
            position: absolute;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s;
            z-index: 10;
            transform-origin: center;
        }
        
        .city-dot:hover {
            transform: scale(1.3);
            z-index: 100;
        }
        
        .city-dot.shenzhen {
            background: rgba(255, 107, 107, 0.2);
            border: 3px solid #ff6b6b;
            left: 75%;
            top: 65%;
        }
        
        .city-dot.canton {
            background: rgba(255, 209, 102, 0.2);
            border: 3px solid #ffd166;
            left: 70%;
            top: 55%;
        }
        
        .city-dot.chongqing {
            background: rgba(138, 180, 255, 0.2);
            border: 3px solid #8ab4ff;
            left: 60%;
            top: 50%;
        }
        
        .city-dot::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: inherit;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        .city-name {
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-weight: bold;
            font-size: 14px;
            padding: 5px 10px;
            border-radius: 5px;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .city-dot:hover .city-name {
            opacity: 1;
        }
        
        .city-count {
            font-size: 22px;
            font-weight: bold;
            position: relative;
            z-index: 2;
        }
        
        .city-dot.shenzhen .city-count { color: #ff6b6b; }
        .city-dot.canton .city-count { color: #ffd166; }
        .city-dot.chongqing .city-count { color: #8ab4ff; }
        
        /* CONNESSIONI */
        .connection-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, transparent, #8ab4ff, transparent);
            transform-origin: left center;
            z-index: 1;
        }
        
        /* STATS SULLA MAPPA */
        .map-stats {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(26, 29, 34, 0.9);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #2a2f36;
            backdrop-filter: blur(10px);
        }
        
        .map-stats h3 {
            margin-bottom: 10px;
            color: #8ab4ff;
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 14px;
        }
        
        /* INFO PANEL */
        .info-panel {
            background: #1a1d22;
            border-radius: 15px;
            padding: 25px;
            border: 1px solid #2a2f36;
            margin-top: 30px;
        }
        
        .info-panel h2 {
            color: #8ab4ff;
            margin-bottom: 15px;
        }
        
        .city-info {
            display: none;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .city-info.active {
            display: grid;
        }
        
        .info-card {
            background: #0e0f12;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid;
        }
        
        .shenzhen-info { border-color: #ff6b6b; }
        .canton-info { border-color: #ffd166; }
        .chongqing-info { border-color: #8ab4ff; }
        
        .info-card h4 {
            color: #8ab4ff;
            margin-bottom: 10px;
        }
        
        .highlight {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .shenzhen-info .highlight { color: #ff6b6b; }
        .canton-info .highlight { color: #ffd166; }
        .chongqing-info .highlight { color: #8ab4ff; }
        
        /* LEGENDA */
        .legend {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .map-container {
                height: 400px;
            }
            
            .city-dot {
                width: 50px;
                height: 50px;
            }
            
            .city-count {
                font-size: 16px;
            }
            
            .mode-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .mode-btn {
                width: 200px;
            }
        }
        
        /* ANIMAZIONI */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        /* TOOLTIP */
        .tooltip {
            position: absolute;
            background: rgba(26, 29, 34, 0.95);
            border: 1px solid #2a2f36;
            border-radius: 8px;
            padding: 15px;
            max-width: 300px;
            display: none;
            z-index: 1000;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .tooltip.show {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        .tooltip h4 {
            color: #8ab4ff;
            margin-bottom: 8px;
        }
        
        .tooltip-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .tooltip-stat {
            font-size: 12px;
            color: #c9d1d9;
        }
        
        .tooltip-stat span {
            color: white;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üçú Ristoranti Cina</h1>
            <p class="subtitle">Esplora la mappa interattiva delle citt√† culinarie</p>
        </header>
        
        <div class="mode-selector">
            <button class="mode-btn active" data-mode="map">üó∫Ô∏è Vista Mappa</button>
            <button class="mode-btn" data-mode="list">üìã Vista Lista</button>
            <button class="mode-btn" data-mode="stats">üìä Statistiche</button>
        </div>
        
        <div class="map-container">
            <div class="china-map">
                <!-- Linee di connessione -->
                <div class="connection-line" id="line-shenzhen-canton"></div>
                <div class="connection-line" id="line-canton-chongqing"></div>
                <div class="connection-line" id="line-chongqing-shenzhen"></div>
                
                <!-- Punti citt√† -->
                <div class="city-dot shenzhen" data-city="shenzhen">
                    <div class="city-count">27</div>
                    <div class="city-name">Shenzhen</div>
                </div>
                
                <div class="city-dot canton" data-city="canton">
                    <div class="city-count">42</div>
                    <div class="city-name">Canton</div>
                </div>
                
                <div class="city-dot chongqing" data-city="chongqing">
                    <div class="city-count">53</div>
                    <div class="city-name">Chongqing</div>
                </div>
                
                <!-- Tooltip -->
                <div class="tooltip" id="map-tooltip"></div>
            </div>
            
            <div class="map-stats">
                <h3>üåç Panoramica Cina</h3>
                <div class="stat-item">
                    <span>Citt√† coperte:</span>
                    <span style="color: #8ab4ff">3</span>
                </div>
                <div class="stat-item">
                    <span>Ristoranti totali:</span>
                    <span style="color: #ffd166">122</span>
                </div>
                <div class="stat-item">
                    <span>Prezzo medio:</span>
                    <span style="color: #ff6b6b">52¬•</span>
                </div>
                <div class="stat-item">
                    <span>Voto medio:</span>
                    <span style="color: #8ab4ff">4.5‚òÖ</span>
                </div>
            </div>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #ff6b6b;"></div>
                <span>Shenzhen (27 ristoranti)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ffd166;"></div>
                <span>Canton (42 ristoranti)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #8ab4ff;"></div>
                <span>Chongqing (53 ristoranti)</span>
            </div>
        </div>
        
        <div class="info-panel">
            <h2>üìå Informazioni Citt√† Selezionata</h2>
            <div class="city-info active" id="info-shenzhen">
                <div class="info-card shenzhen-info">
                    <h4>üèôÔ∏è Shenzhen</h4>
                    <div class="highlight">27 Ristoranti</div>
                    <p>La citt√† high-tech con cucina innovativa e fusion.</p>
                    <p><strong>Specialit√†:</strong> Cantonese, Hot Pot, BBQ</p>
                    <p><strong>Prezzo medio:</strong> 58¬•</p>
                    <p><strong>Must try:</strong> Daoxiang Cantonese</p>
                </div>
                <div class="info-card">
                    <h4>üìç Zona Principale</h4>
                    <p><strong>DONGMEN E LOUHOU:</strong> 9 ristoranti</p>
                    <p><strong>FUTIAN:</strong> 3 ristoranti</p>
                    <p><strong>HUAQINGBEI:</strong> 6 ristoranti</p>
                    <p><strong>NANSHAN:</strong> 4 ristoranti</p>
                </div>
                <div class="info-card">
                    <h4>üèÜ Top 3</h4>
                    <p>1. Benluobo Liuyang Restaurant ‚òÖ4.9</p>
                    <p>2. Fanlou ‚òÖ4.8</p>
                    <p>3. Sushiro ‚òÖ4.8</p>
                </div>
            </div>
            
            <div class="city-info" id="info-canton">
                <div class="info-card canton-info">
                    <h4>üèÆ Canton (Guangzhou)</h4>
                    <div class="highlight">42 Ristoranti</div>
                    <p>La capitale culinaria del sud, patria della cucina cantonese.</p>
                    <p><strong>Specialit√†:</strong> Dim Sum, Anatra, Seafood</p>
                    <p><strong>Prezzo medio:</strong> 48¬•</p>
                    <p><strong>Must try:</strong> Diandude Cantonese</p>
                </div>
                <div class="info-card">
                    <h4>üìç Zone Principali</h4>
                    <p><strong>BEIJING ROAD:</strong> 11 ristoranti</p>
                    <p><strong>LIWAN:</strong> 12 ristoranti</p>
                    <p><strong>XINHUA RD:</strong> 8 ristoranti</p>
                    <p><strong>ZHUJIANG NEW TOWN:</strong> 5 ristoranti</p>
                </div>
                <div class="info-card">
                    <h4>üèÜ Top 3</h4>
                    <p>1. Diandude ‚òÖ4.7</p>
                    <p>2. Ristorante Guangzhou ‚òÖ4.7</p>
                    <p>3. Minji Potted Rice ‚òÖ4.7</p>
                </div>
            </div>
            
            <div class="city-info" id="info-chongqing">
                <div class="info-card chongqing-info">
                    <h4>üå∂Ô∏è Chongqing</h4>
                    <div class="highlight">53 Ristoranti</div>
                    <p>La capitale del piccante e degli hot pot.</p>
                    <p><strong>Specialit√†:</strong> Hot Pot, Noodles Sichuan</p>
                    <p><strong>Prezzo medio:</strong> 51¬•</p>
                    <p><strong>Must try:</strong> Wenliang Hot Pot ‚òÖ4.8</p>
                </div>
                <div class="info-card">
                    <h4>üìç Zone Principali</h4>
                    <p><strong>YUZHONG:</strong> 18 ristoranti</p>
                    <p><strong>LINHUA RD:</strong> 11 ristoranti</p>
                    <p><strong>NANBIN RD:</strong> 8 ristoranti</p>
                    <p><strong>GUANYNQIAO:</strong> 7 ristoranti</p>
                </div>
                <div class="info-card">
                    <h4>üèÜ Top 3</h4>
                    <p>1. Wenliang Hot Pot ‚òÖ4.8</p>
                    <p>2. Noodles Dengdeng ‚òÖ4.7</p>
                    <p>3. Tagliatelle Super Li ‚òÖ4.7</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Dati delle citt√†
        const citiesData = {
            shenzhen: {
                name: "Shenzhen",
                count: 27,
                color: "#ff6b6b",
                price: "58¬•",
                rating: "4.6",
                topCuisine: "Cantonese",
                topRestaurant: "Benluobo Liuyang Restaurant ‚òÖ4.9",
                zones: [
                    { name: "DONGMEN E LOUHOU", count: 9 },
                    { name: "FUTIAN", count: 3 },
                    { name: "HUAQINGBEI", count: 6 },
                    { name: "NANSHAN", count: 4 }
                ]
            },
            canton: {
                name: "Canton (Guangzhou)",
                count: 42,
                color: "#ffd166",
                price: "48¬•",
                rating: "4.5",
                topCuisine: "Dim Sum",
                topRestaurant: "Diandude ‚òÖ4.7",
                zones: [
                    { name: "BEIJING ROAD", count: 11 },
                    { name: "LIWAN", count: 12 },
                    { name: "XINHUA RD", count: 8 },
                    { name: "ZHUJIANG NEW TOWN", count: 5 }
                ]
            },
            chongqing: {
                name: "Chongqing",
                count: 53,
                color: "#8ab4ff",
                price: "51¬•",
                rating: "4.5",
                topCuisine: "Hot Pot",
                topRestaurant: "Wenliang Hot Pot ‚òÖ4.8",
                zones: [
                    { name: "YUZHONG", count: 18 },
                    { name: "LINHUA RD", count: 11 },
                    { name: "NANBIN RD", count: 8 },
                    { name: "GUANYNQIAO", count: 7 }
                ]
            }
        };
        
        // Inizializzazione
        document.addEventListener('DOMContentLoaded', function() {
            setupMap();
            setupModeSelector();
            setupCityHover();
            drawConnections();
            showCityInfo('shenzhen'); // Mostra Shenzhen di default
        });
        
        function setupMap() {
            const dots = document.querySelectorAll('.city-dot');
            dots.forEach(dot => {
                dot.addEventListener('click', function() {
                    const city = this.dataset.city;
                    showCityInfo(city);
                    highlightCity(city);
                });
            });
        }
        
        function setupModeSelector() {
            const buttons = document.querySelectorAll('.mode-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', function() {
                    buttons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    
                    const mode = this.dataset.mode;
                    switchMode(mode);
                });
            });
        }
        
        function switchMode(mode) {
            // Per ora implementiamo solo la mappa
            // Potresti aggiungere altre modalit√† in futuro
            alert(`Modalit√† ${mode} selezionata! (In sviluppo)`);
        }
        
        function setupCityHover() {
            const dots = document.querySelectorAll('.city-dot');
            const tooltip = document.getElementById('map-tooltip');
            
            dots.forEach(dot => {
                dot.addEventListener('mouseenter', function(e) {
                    const city = this.dataset.city;
                    const data = citiesData[city];
                    
                    // Posiziona il tooltip
                    const rect = this.getBoundingClientRect();
                    tooltip.style.left = (rect.left + rect.width/2) + 'px';
                    tooltip.style.top = (rect.top - 150) + 'px';
                    
                    // Popola il tooltip
                    tooltip.innerHTML = `
                        <h4>${data.name}</h4>
                        <p>${data.count} ristoranti</p>
                        <div class="tooltip-stats">
                            <div class="tooltip-stat">Prezzo medio: <span>${data.price}</span></div>
                            <div class="tooltip-stat">Voto: <span>${data.rating}‚òÖ</span></div>
                            <div class="tooltip-stat">Cucina top: <span>${data.topCuisine}</span></div>
                            <div class="tooltip-stat">Top: <span>${data.topRestaurant}</span></div>
                        </div>
                        <p style="margin-top: 10px; font-size: 12px; color: #8ab4ff;">Clicca per dettagli ‚Üí</p>
                    `;
                    
                    tooltip.classList.add('show');
                });
                
                dot.addEventListener('mouseleave', function() {
                    tooltip.classList.remove('show');
                });
            });
        }
        
        function drawConnections() {
            // Calcola posizioni per le linee di connessione
            const dots = {
                shenzhen: document.querySelector('.city-dot.shenzhen'),
                canton: document.querySelector('.city-dot.canton'),
                chongqing: document.querySelector('.city-dot.chongqing')
            };
            
            // Funzione per disegnare una linea tra due punti
            function drawLine(fromId, toId, lineId) {
                const from = dots[fromId].getBoundingClientRect();
                const to = dots[toId].getBoundingClientRect();
                const container = document.querySelector('.map-container').getBoundingClientRect();
                
                const line = document.getElementById(lineId);
                
                // Calcola distanza e angolo
                const dx = to.left - from.left;
                const dy = to.top - from.top;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                
                // Posiziona la linea
                line.style.width = distance + 'px';
                line.style.left = (from.left - container.left + from.width/2) + 'px';
                line.style.top = (from.top - container.top + from.height/2) + 'px';
                line.style.transform = `rotate(${angle}deg)`;
            }
            
            // Disegna le connessioni
            drawLine('shenzhen', 'canton', 'line-shenzhen-canton');
            drawLine('canton', 'chongqing', 'line-canton-chongqing');
            drawLine('chongqing', 'shenzhen', 'line-chongqing-shenzhen');
            
            // Ridisegna quando la finestra viene ridimensionata
            window.addEventListener('resize', () => {
                drawLine('shenzhen', 'canton', 'line-shenzhen-canton');
                drawLine('canton', 'chongqing', 'line-canton-chongqing');
                drawLine('chongqing', 'shenzhen', 'line-chongqing-shenzhen');
            });
        }
        
        function showCityInfo(city) {
            // Nascondi tutte le info
            document.querySelectorAll('.city-info').forEach(info => {
                info.classList.remove('active');
            });
            
            // Mostra le info della citt√† selezionata
            document.getElementById(`info-${city}`).classList.add('active');
            
            // Aggiorna il titolo
            document.querySelector('.info-panel h2').textContent = 
                `üìå ${citiesData[city].name} - Dettagli`;
        }
        
        function highlightCity(city) {
            // Rimuovi highlight da tutti
            document.querySelectorAll('.city-dot').forEach(dot => {
                dot.style.transform = 'scale(1)';
                dot.style.boxShadow = 'none';
            });
            
            // Highlight la citt√† selezionata
            const selectedDot = document.querySelector(`.city-dot.${city}`);
            selectedDot.style.transform = 'scale(1.4)';
            selectedDot.style.boxShadow = `0 0 30px ${citiesData[city].color}`;
            
            // Reset dopo 2 secondi
            setTimeout(() => {
                selectedDot.style.transform = '';
                selectedDot.style.boxShadow = '';
            }, 2000);
        }
        
        // Aggiungi animazioni casuali
        setInterval(() => {
            const cities = ['shenzhen', 'canton', 'chongqing'];
            const randomCity = cities[Math.floor(Math.random() * cities.length)];
            const dot = document.querySelector(`.city-dot.${randomCity}`);
            
            dot.style.transform = 'scale(1.2)';
            setTimeout(() => {
                dot.style.transform = '';
            }, 500);
        }, 3000);
    </script>
</body>
</html>